"use strict";(self["webpackChunkapp_weather"]=self["webpackChunkapp_weather"]||[]).push([[443],{7573:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var r=function(){var e=this,t=e._self._c;return t("div",{key:e.getFavorite.length,staticClass:"favorite container"},[t("div",{staticClass:"favorite-top"},[t("div",{staticClass:"switcher-times"},[t("button",{class:{active:!e.switchDay},on:{click:e.showFiveDays}},[e._v(" Today ")]),t("button",{class:{active:e.switchDay},on:{click:e.showOneDay}},[e._v(" Fives Days ")]),t("button",{staticClass:"btn-new",on:{click:e.addNewBlock}},[e._v("New")])])]),0===e.getWeatherForecastFavorite.length?t("h2",[e._v(" Add first block to favorites... ")]):e._e(),t("div",{key:e.getWeatherForecastFavorite.length+e.getFavorite.length,staticClass:"tabs"},e._l(e.getWeatherForecastFavorite,(function(a,r){return t("div",{key:r+"tabs"+e.updateArr,class:{active:r===e.activeTab},domProps:{innerHTML:e._s(a.location)},on:{click:function(t){e.activeTab=r}}})})),0),e._l(e.getWeatherForecastFavorite,(function(r,o){return t("div",{key:o+"card"+e.updateArr+e.getFavorite.length},[o===e.activeTab?t("div",{staticClass:"favorite-wrapper"},[t("a",{staticClass:"remove",attrs:{href:"#"},on:{click:e.removeBlock}},[t("img",{attrs:{src:a(4934),alt:"remove"}})]),t("a",{key:e.getFavorite.length,staticClass:"favorite",attrs:{href:"#"}},[t("img",{attrs:{src:a(1838),alt:"favorite"}})]),t("div",[e.switchDay?e._e():t("Card",{attrs:{infoWeather:r}}),e.switchDay?t("CardFiveDay",{attrs:{infoWeather:e.getArrayWeatherCardFiveDays[o]}}):e._e(),e.switchDay?e._e():t("div",{staticClass:"fon-card"},[t("h2",[e._v("Weather forecast for today")]),e.getWeatherForecastOneDayFavorite.length?t("DayChart",{attrs:{data:e.getWeatherForecastOneDayFavorite[o]}}):e._e()],1),e.switchDay?t("div",{staticClass:"fon-card"},[t("h2",[e._v("Weather forecast for five days")]),e.getWeatherForecastFiveDaysFavorite.length?t("WeekChart",{attrs:{data:e.getWeatherForecastFiveDaysFavorite[o]}}):e._e()],1):e._e()],1)]):e._e()])})),e.openModalNewCard?t("NewCard",{attrs:{favorite:!0},on:{closeModal:e.closeModalNewCard}}):e._e(),e.confirmModal?t("ConfirmModal",{on:{closeModal:e.closeModalConfirmModal}}):e._e(),e.showPage?t("Loader"):e._e()],2)},o=[],i=a(707),s=a(5052),c=a(1707),h=a(4823),v=a(3420),l=a(6564),n=a(9724),d=a(5343),F=a(3822),y={name:"favoriteView",components:{Input:s.Z,Loader:i.Z,Card:c.Z,CardFiveDay:h.Z,DayChart:v.Z,WeekChart:l.Z,NewCard:n.Z,ConfirmModal:d.Z},data:()=>({switchDay:!1,openModalNewCard:!1,activeTab:0,updateArr:!1,confirmModal:!1,localStorage:!1,showPage:!0}),computed:(0,F.Se)(["getFavorite","getWeatherForecastFavorite","getWeatherForecastOneDayFavorite","getWeatherForecastFiveDaysFavorite","getArrayWeatherCardFiveDays"]),methods:{...(0,F.nv)(["fetchForecastFavorite","fetchForecastOneDayFavorite","fetchForecastFiveDaysFavorite"]),...(0,F.OI)(["pushFavorite","removeFavorite","updateFromLocalStorageFavorite","removeArrayWeatherFavorite","removeArrayWeatherFavoriteChartOneDay","removeArrayWeatherFavoriteChartFiveDays","setError"]),showOneDay(){this.switchDay||(this.switchDay=!0)},showFiveDays(){this.switchDay&&(this.switchDay=!1)},period(e){let t=new Date(e).getHours();return t>5&&t<18?"day":"night"},addNewBlock(){this.openModalNewCard=!0;let e=document.body.classList;e.add("lock")},closeModalNewCard(){this.openModalNewCard=!1;let e=document.body.classList;e.remove("lock")},removeBlock(){1!==this.getFavorite.length?this.confirmModal=!0:this.setError("You cannot remove the last element.")},async closeModalConfirmModal(e){if(this.confirmModal=!1,!e)return;this.removeFavorite(this.activeTab);let t=this.getFavorite.map((e=>e+";"));window.localStorage.setItem("favorite",t),this.checkLocalStorage(),this.removeArrayWeatherFavorite(this.activeTab),this.removeArrayWeatherFavoriteChartOneDay(this.activeTab),this.removeArrayWeatherFavoriteChartFiveDays(this.activeTab),this.updateArr=!this.updateArr,this.activeTab=0},checkFavorite(e){return this.getFavorite.some((t=>t===e))},checkLocalStorage(){if(localStorage.getItem("favorite")){let e=localStorage.getItem("favorite").split(";");e.splice(e.length-1,1),e.length>1&&(e=e.map(((e,t)=>t>0?e.substr(1):e))),this.updateFromLocalStorageFavorite(e)}},async getArrFavorite(){await this.getFavorite.forEach((e=>{this.getWeatherForecastFavorite.some((t=>t.location===e))||(this.fetchForecastFavorite(e),this.fetchForecastOneDayFavorite(e),this.fetchForecastFiveDaysFavorite(e))}))}},async mounted(){this.checkLocalStorage(),await this.getArrFavorite(),this.showPage=!1}},g=y,f=a(1001),m=(0,f.Z)(g,r,o,!1,null,"4670eb30",null),w=m.exports}}]);
//# sourceMappingURL=about.08fb9d3d.js.map